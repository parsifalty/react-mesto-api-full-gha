[{"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/index.js":"1","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/App.js":"2","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/reportWebVitals.js":"3","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Header.js":"4","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Main.js":"5","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Footer.js":"6","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/ImagePopup.js":"7","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/DeletePopup.js":"8","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/AddPlacePopup.js":"9","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/EditProfilePopup.js":"10","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Register.js":"11","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Login.js":"12","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/ProtectedRoute.js":"13","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/InfoTooltip.js":"14","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/EditAvatarPopup.js":"15","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/utils/Api.js":"16","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/utils/Auth.js":"17","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/contexts/CurrentUserContext.js":"18","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Card.js":"19","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/PopupWithForm.js":"20","/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/UserForm.js":"21"},{"size":642,"mtime":1701479553546,"results":"22","hashOfConfig":"23"},{"size":7434,"mtime":1701480672965,"results":"24","hashOfConfig":"23"},{"size":362,"mtime":1701479553546,"results":"25","hashOfConfig":"23"},{"size":1069,"mtime":1701480816067,"results":"26","hashOfConfig":"23"},{"size":1655,"mtime":1701479553544,"results":"27","hashOfConfig":"23"},{"size":222,"mtime":1701479553544,"results":"28","hashOfConfig":"23"},{"size":651,"mtime":1701479553544,"results":"29","hashOfConfig":"23"},{"size":534,"mtime":1701479553543,"results":"30","hashOfConfig":"23"},{"size":1649,"mtime":1701479553543,"results":"31","hashOfConfig":"23"},{"size":2167,"mtime":1701479553543,"results":"32","hashOfConfig":"23"},{"size":1387,"mtime":1701480768093,"results":"33","hashOfConfig":"23"},{"size":1327,"mtime":1701480759067,"results":"34","hashOfConfig":"23"},{"size":291,"mtime":1701480824305,"results":"35","hashOfConfig":"23"},{"size":1060,"mtime":1701479553544,"results":"36","hashOfConfig":"23"},{"size":1030,"mtime":1701479553543,"results":"37","hashOfConfig":"23"},{"size":2314,"mtime":1701480622675,"results":"38","hashOfConfig":"23"},{"size":1004,"mtime":1701480518231,"results":"39","hashOfConfig":"23"},{"size":111,"mtime":1701479553544,"results":"40","hashOfConfig":"23"},{"size":1485,"mtime":1701480922758,"results":"41","hashOfConfig":"23"},{"size":1146,"mtime":1701479553544,"results":"42","hashOfConfig":"23"},{"size":743,"mtime":1701479553544,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"py1s3s",{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/index.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/App.js",["109"],[],"import React from \"react\";\nimport \"../App.css\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport api from \"../utils/Api.js\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeletePopup from \"./DeletePopup\";\nimport { Navigate, Route, Routes } from \"react-router-dom\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRouteElement from \"./ProtectedRoute\";\nimport * as auth from \"../utils/Auth\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction App() {\n  const navigate = useNavigate();\n\n  const [userEmail, setUserEmail] = React.useState({});\n\n  const [isInfoTooltip, setInfoToolTipPopup] = React.useState(false);\n\n  const [isSuccessInfoTooltipStatus, setSuccessInfoTooltipStatus] =\n    React.useState(false);\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n\n  const [cards, setCards] = React.useState([]);\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [selectedCard, setSelectedCard] = React.useState(null);\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n\n  const [cardToDelete, setCardToDelete] = React.useState(null);\n\n  function handleToolTipOpen() {\n    setInfoToolTipPopup(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAppPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleDeleteCard(card) {\n    setCardToDelete(card);\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setSelectedCard(null);\n    setCardToDelete(null);\n    setInfoToolTipPopup(false);\n  }\n  console.log(localStorage.jwt);\n\n  React.useEffect(() => {\n    if (!loggedIn) return;\n    Promise.all([\n      api.getUserFromServer(localStorage.jwt),\n      api.getInitialCards(localStorage.jwt),\n    ])\n      .then(([user, cardsList]) => {\n        setCurrentUser(user);\n        setCards(cardsList);\n        console.log(loggedIn);\n        console.log(user);\n      })\n\n      .catch((err) => console.error(err));\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n\n    if (jwt) {\n      auth\n        .checkToken(jwt)\n        .then((data) => {\n          if (data) {\n            console.log(data);\n            setUserEmail({ email: data.data.email });\n            console.log(userEmail);\n            setLoggedIn(true);\n            navigate(\"/\");\n          }\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n  }, []);\n\n  console.log(currentUser);\n\n  function registerSubmit(email, password) {\n    auth\n      .register(email, password)\n      .then((res) => {\n        setSuccessInfoTooltipStatus(true);\n        handleToolTipOpen();\n        navigate(\"/singin\");\n      })\n      .catch((err) => {\n        console.error(err);\n        setSuccessInfoTooltipStatus(false);\n        handleToolTipOpen();\n      });\n  }\n\n  function loginSubmit(email, password) {\n    auth\n      .login(email, password)\n      .then((res) => {\n        localStorage.setItem(\"jwt\", res.token);\n        setLoggedIn(true);\n        setSuccessInfoTooltipStatus(true);\n        setUserEmail({ email: email });\n        navigate(\"/\");\n        handleToolTipOpen();\n      })\n      .catch((err) => {\n        console.error(err);\n        setSuccessInfoTooltipStatus(false);\n        handleToolTipOpen();\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, !isLiked, localStorage.jwt)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function handleCardDelete(id) {\n    api\n      .deleteCard(id, localStorage.jwt)\n      .then((card) => {\n        setCards((cards) => cards.filter((c) => c._id !== id));\n        closeAllPopups();\n      })\n      .catch((err) => console.error(err));\n  }\n\n  function handleSubmitUserForm(obj) {\n    api\n      .setNewUserInfo(obj, localStorage.jwt)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.error(err));\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem(\"jwt\");\n    navigate(\"/singin\");\n    setLoggedIn(false);\n  }\n\n  function handleAvatarUserForm(avatar) {\n    api\n      .setNewAvatar(avatar, localStorage.jwt)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.error(err));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api\n      .addCard(card, localStorage.jwt)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.error(err));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <Header\n          email={userEmail.email}\n          signOut={handleSignOut}\n          loggedIn={loggedIn}\n        />\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              <ProtectedRouteElement\n                element={Main}\n                logged={loggedIn}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAppPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                handleCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                cards={cards}\n                onDelete={handleDeleteCard}\n              />\n            }\n          />\n          <Route\n            path=\"/signup\"\n            element={<Register onSubmit={registerSubmit} />}\n          />\n          <Route path=\"/singin\" element={<Login onSubmit={loginSubmit} />} />\n          <Route path=\"/*\" element={<Navigate to=\"/singin\" replace />} />\n        </Routes>\n        {loggedIn ? <Footer /> : \"\"}\n        <EditProfilePopup\n          onSubmit={handleSubmitUserForm}\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n        />\n        <EditAvatarPopup\n          onSubmit={handleAvatarUserForm}\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n        />\n        <AddPlacePopup\n          onSubmit={handleAddPlaceSubmit}\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n        />\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n        <DeletePopup\n          onClose={closeAllPopups}\n          card={cardToDelete}\n          onDelete={handleCardDelete}\n        />\n        <InfoTooltip\n          isOpen={isInfoTooltip}\n          onClose={closeAllPopups}\n          isSuccess={isSuccessInfoTooltipStatus}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n",[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/reportWebVitals.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Header.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Main.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Footer.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/ImagePopup.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/DeletePopup.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/AddPlacePopup.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/EditProfilePopup.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Register.js",["110"],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Login.js",["111"],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/ProtectedRoute.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/InfoTooltip.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/EditAvatarPopup.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/utils/Api.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/utils/Auth.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/contexts/CurrentUserContext.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/Card.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/PopupWithForm.js",[],[],"/Users/litvacpaul/Desktop/react-mesto-auth/react-mesto-auth/src/components/UserForm.js",[],[],{"ruleId":"112","severity":1,"message":"113","line":116,"column":6,"nodeType":"114","endLine":116,"endColumn":8,"suggestions":"115"},{"ruleId":"116","severity":1,"message":"117","line":2,"column":8,"nodeType":"118","messageId":"119","endLine":2,"endColumn":14},{"ruleId":"116","severity":1,"message":"117","line":2,"column":8,"nodeType":"118","messageId":"119","endLine":2,"endColumn":14},"react-hooks/exhaustive-deps","React Hook React.useEffect has missing dependencies: 'navigate' and 'userEmail'. Either include them or remove the dependency array.","ArrayExpression",["120"],"no-unused-vars","'Header' is defined but never used.","Identifier","unusedVar",{"desc":"121","fix":"122"},"Update the dependencies array to be: [navigate, userEmail]",{"range":"123","text":"124"},[3159,3161],"[navigate, userEmail]"]